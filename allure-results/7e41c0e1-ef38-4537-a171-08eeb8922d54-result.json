{"name": "test_main_block_execution", "status": "failed", "statusDetails": {"message": "AssertionError: Expected 'run_app' to have been called once. Called 0 times.", "trace": "def test_main_block_execution():\n        \"\"\"Тест выполнения блока if __name__ == '__main__'\"\"\"\n        # Мокаем __name__ чтобы имитировать прямой запуск\n        with patch('app.main.__name__', '__main__'):\n            with patch('app.main.run_app') as mock_run_app:\n                # Переимпортируем модуль чтобы выполнился блок if __name__\n                import importlib\n                import app.main\n                importlib.reload(app.main)\n    \n                # Проверяем что run_app был вызван\n>               mock_run_app.assert_called_once()\n\ntests\\test_drivers.py:267: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <MagicMock name='run_app' id='1856833190688'>\n\n    def assert_called_once(self):\n        \"\"\"assert that the mock was called only once.\n        \"\"\"\n        if not self.call_count == 1:\n            msg = (\"Expected '%s' to have been called once. Called %s times.%s\"\n                   % (self._mock_name or 'mock',\n                      self.call_count,\n                      self._calls_repr()))\n>           raise AssertionError(msg)\nE           AssertionError: Expected 'run_app' to have been called once. Called 0 times.\n\n..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\unittest\\mock.py:898: AssertionError"}, "description": "Тест выполнения блока if __name__ == '__main__'", "start": 1763727807974, "stop": 1763727807981, "uuid": "93177f04-5dd5-41b1-9385-cb80981c0bc3", "historyId": "41269fa732c9b68890b401a2f6e17a12", "testCaseId": "41269fa732c9b68890b401a2f6e17a12", "fullName": "tests.test_drivers#test_main_block_execution", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_drivers"}, {"name": "host", "value": "DESKTOP-J9T79FF"}, {"name": "thread", "value": "18700-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_drivers"}], "titlePath": ["tests", "test_drivers.py"]}
